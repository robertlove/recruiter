<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <title>What will the fee be?</title>
  </head>
  <body>
    <form class="container my-5">
      <div class="row">
        <div class="col">
          <h4>Type in the number you have</h4>
          <div class="form-group">
            <label for="base-amount">Base Salary</label>
            <div class="input-group">
              <div class="input-group-prepend">
                <div class="input-group-text">$</div>
              </div>
              <input type="number" class="form-control" id="base-amount" value="100000">
            </div>
          </div>
          <table class="table table-bordered">
            <tbody>
              <tr>
                <th scope="row">Super (<span id="super-rate-label">9.5</span>% of Base)</th>
                <td class="text-right" id="super-amount">9500</td>
              </tr>
              <tr>
                <th scope="row">Package (Base + Super)</th>
                <td class="text-right" id="package-amount">109500</td>
              </tr>
              <tr>
                <th scope="row">Fee (<span id="fee-rate-label">15</span>% of Package)</th>
                <td class="text-right" id="fee-amount">16425</td>
              </tr>
              <tr>
                <th scope="row">GST (<span id="gst-rate-label">10</span>% of Fee)</th>
                <td class="text-right" id="gst-amount">1642.50</td>
              </tr>
              <tr>
                <th scope="row">TOTAL (Fee + GST)</th>
                <td class="text-right font-weight-bold" id="total-amount">18,067.50</td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="col">
          <h4>Assumptions</h4>
          <div class="form-group">
            <label for="super-rate">Super</label>
            <div class="input-group">
              <input type="number" class="form-control" id="super-rate" value="9.5">
              <div class="input-group-append">
                <div class="input-group-text">%</div>
              </div>
            </div>
          </div>
          <div class="form-group">
            <label for="fee-rate">Fee</label>
            <div class="input-group">
              <input type="number" class="form-control" id="fee-rate" value="15">
              <div class="input-group-append">
                <div class="input-group-text">%</div>
              </div>
            </div>
          </div>
          <div class="form-group">
            <label for="gst-rate">GST</label>
            <div class="input-group">
              <input type="number" class="form-control" id="gst-rate" value="10">
              <div class="input-group-append">
                <div class="input-group-text">%</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script>

    function calculatePercentage(rate, amount)
    {
      return Number(rate) / 100 * Number(amount);
    }

    $(function() {

      $("#base-amount, #super-rate, #fee-rate, #gst-rate").change(function() {

        var baseAmount = Number($("#base-amount").val());
        var superRate = Number($("#super-rate").val());
        var feeRate = Number($("#fee-rate").val());
        var gstRate = Number($("#gst-rate").val());

        var superAmount = calculatePercentage(superRate, baseAmount);
        var packageAmount = baseAmount + superAmount;
        var feeAmount = calculatePercentage(feeRate, packageAmount);
        var gstAmount = calculatePercentage(gstRate, feeAmount);
        var totalAmount = feeAmount + gstAmount;

        $("#super-rate-label").html(superRate);
        $("#fee-rate-label").html(feeRate);
        $("#gst-rate-label").html(gstRate);

        $("#super-amount").html(superAmount.toLocaleString("AUD"));
        $("#package-amount").html(packageAmount.toLocaleString("AUD"));
        $("#fee-amount").html(feeAmount.toLocaleString("AUD"));
        $("#gst-amount").html(gstAmount.toLocaleString("AUD"));

        $("#total-amount").html(totalAmount.toLocaleString("AUD"));

      });

    });

    </script>
  </body>
</html>
