<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="Find out how much it costs to use a recruitment agent">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <title>Recruitment Fee Calculator</title>
  </head>
  <body>
    <nav class="navbar sticky-top navbar-dark bg-info">
      <div class="container">
        <h1 class="navbar-brand m-0">Recruitment Fee Calculator</h1>
      </div>
    </nav>
    <div class="jumbotron jumbotron-fluid">
      <div class="container">
        <p class="lead">Given the base salary, this calculator will tell you how much it will cost to use a recruitment agent</p>
      </div>
    </div>
    <div class="container my-5">
      <div class="row">
        <div class="col-md-6">
          <form>
            <div class="form-group">
              <label for="salary">Base Salary (ex. Super)</label>
              <div class="input-group">
                <div class="input-group-prepend">
                  <div class="input-group-text">$</div>
                </div>
                <input type="number" min="1" class="form-control" id="base-amount" value="100000" required>
              </div>
            </div>
            <div class="form-group">
              <label for="super-rate">Super</label>
              <div class="input-group">
                <input type="number" class="form-control" id="super-rate" value="9.5">
                <div class="input-group-append">
                  <div class="input-group-text">%</div>
                </div>
              </div>
            </div>
            <div class="form-group">
              <label for="fee-rate">Recruitment Fee</label>
              <div class="input-group">
                <input type="number" class="form-control" id="fee-rate" value="15">
                <div class="input-group-append">
                  <div class="input-group-text">%</div>
                </div>
              </div>
              <div class="form-check form-check-inline">
                <input class="form-check-input form-control-sm" type="radio" id="fee-of-base" name="fee-of" value="Base" checked>
                <label class="form-check-label small text-muted" for="fee-of-base">of Base Salary (ex. Super)</label>
              </div>
              <div class="form-check form-check-inline">
                <input class="form-check-input form-control-sm" type="radio" id="fee-of-package" name="fee-of" value="Package">
                <label class="form-check-label small text-muted" for="fee-of-package">of Package Salary (inc. Super)</label>
              </div>
            </div>
            <div class="form-group">
              <label for="gst-rate">GST</label>
              <div class="input-group">
                <input type="number" class="form-control" id="gst-rate" value="10">
                <div class="input-group-append">
                  <div class="input-group-text">%</div>
                </div>
              </div>
            </div>
          </form>
        </div>
        <div class="col-md-6">
          <div class="form-group">
            <label>&nbsp;</label>
            <table class="table table-bordered">
              <tbody>
                <tr>
                  <td>Super (<span id="super-rate-label">9.5</span>% of Base Salary)</td>
                  <td class="text-right" id="super-amount">9,500</td>
                </tr>
                <tr>
                  <td>Package Salary (Base Salary + Super)</td>
                  <td class="text-right" id="package-amount">109,500</td>
                </tr>
                <tr>
                  <td>Fee (<span id="fee-rate-label">15</span>% of <span id="fee-of-label">Base</span> Salary)</td>
                  <td class="text-right" id="fee-amount">15,000</td>
                </tr>
                <tr>
                  <td>GST (<span id="gst-rate-label">10</span>% of Fee)</td>
                  <td class="text-right" id="gst-amount">1,500</td>
                </tr>
                <tr class="lead font-weight-bold bg-light">
                  <td>TOTAL (Fee + GST)</td>
                  <td class="text-right" id="total-amount">16,500</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script>

    function calculatePercentage(rate, amount)
    {
      return Number(rate) / 100 * Number(amount);
    }

    $(function() {

      $("#base-amount, #super-rate, #fee-rate, input[name='fee-of'], #gst-rate").change(function() {

        var baseAmount = Number($("#base-amount").val());
        var superRate = Number($("#super-rate").val());
        var feeRate = Number($("#fee-rate").val());
        var feeOf = $("input[name='fee-of']:checked").val();
        var gstRate = Number($("#gst-rate").val());

        var superAmount = calculatePercentage(superRate, baseAmount);
        var packageAmount = baseAmount + superAmount;
        if (feeOf == "Base") {
          var feeAmount = calculatePercentage(feeRate, baseAmount);
        } else {
          var feeAmount = calculatePercentage(feeRate, packageAmount);
        }
        var gstAmount = calculatePercentage(gstRate, feeAmount);
        var totalAmount = feeAmount + gstAmount;

        $("#super-rate-label").html(superRate);
        $("#fee-rate-label").html(feeRate);
        $("#fee-of-label").html(feeOf);
        $("#gst-rate-label").html(gstRate);

        $("#super-amount").html(superAmount.toLocaleString("AUD"));
        $("#package-amount").html(packageAmount.toLocaleString("AUD"));
        $("#fee-amount").html(feeAmount.toLocaleString("AUD"));
        $("#gst-amount").html(gstAmount.toLocaleString("AUD"));

        $("#total-amount").html(totalAmount.toLocaleString("AUD"));

      });

    });

    </script>
  </body>
</html>
